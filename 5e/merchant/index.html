<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="styles.css"/>
    </head>
    <body>
        <div id="container">
            <div class="flex">
                <div>
                    <table>
                        <tr>
                            <td>
                               <h2><span id="name"></span></h2>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="flex">
                <div style="flex-grow: 3;">
                    <table>
                        <tr>
                            <th colspan="6">ABILITY SCORES</th>
                        </tr>
                        <tr>
                            <td>
                                <div class="stat">
                                    <span class="stat_label">STR</span>
                                    <span class="stat_modifier" id="str_mod"></span>
                                    <span class="stat_total" id="str"></span>
                                </div>
                            </td>
                            <td>
                                <div class="stat">
                                    <span class="stat_label">DEX</span>
                                    <span class="stat_modifier" id="dex_mod"></span>
                                    <span class="stat_total" id="dex"></span>
                                </div>
                            </td>
                            <td>
                                <div class="stat">
                                    <span class="stat_label">CON</span>
                                    <span class="stat_modifier" id="con_mod"></span>
                                    <span class="stat_total" id="con"></span>
                                </div>
                            </td>
                            <td>
                                <div class="stat">
                                    <span class="stat_label">INT</span>
                                    <span class="stat_modifier" id="int_mod"></span>
                                    <span class="stat_total" id="int"></span>
                                </div>
                            </td>
                            <td>
                                <div class="stat">
                                    <span class="stat_label">WIS</span>
                                    <span class="stat_modifier" id="wis_mod"></span>
                                    <span class="stat_total" id="wis"></span>
                                </div>
                            </td>
                            <td>
                                <div class="stat">
                                    <span class="stat_label">CHA</span>
                                    <span class="stat_modifier" id="cha_mod"></span>
                                    <span class="stat_total" id="cha"></span>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <div>
                    <table>
                        <tr>
                            <td>
                                <div class="stat">
                                    <span class="stat_label">PROF</span>
                                    <span class="stat_modifier" id="prof"></span>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <div>
                    <table>
                        <tr>
                            <td>
                                <div class="stat">
                                    <span class="stat_label">SPEED</span>
                                    <span class="stat_modifier" id="walk_speed"></span>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <div>
                    <table>
                        <tr>
                            <td>
                                <div class="stat">
                                    <span class="stat_label">INSPIRATION</span>
                                    <span class="stat_modifier" id="inspiration"></span>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div style="display: flex;">
                <table>
                    <tr>
                        <th>OFFENSE</th>
                    </tr>
                    <tr>
                        <td>
                            <table class="subtable" id="attacks">
                                <tr>
                                    <th colspan="3">ATTACKS</th>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <table class="subtable" id="spells">
                                <tr>
                                    <th colspan="3">SPELLS</th>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
                <table>
                    <tr>
                        <th colspan="5">DEFENSE</th>
                    </tr>
                    <tr>
                        <td>
                            <table class="subtable" id="ac_table">
                                <tr>
                                    <th>ARMOR CLASS</th>
                                </tr>
                                
                            </table>
                        </td>
                        <td colspan="2">
                            <table class="subtable">
                                <tr>
                                    <th colspan="3">HIT POINTS</th>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="stat">
                                            <span class="stat_label">CURRENT</span>
                                            <span class="stat_modifier" id="current_hp">57</span>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="stat">
                                            <span class="stat_label">MAX</span>
                                            <span class="stat_modifier" id="max_hp">58</span>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="stat">
                                            <span class="stat_label">TEMP</span>
                                            <span class="stat_modifier" id="temp_hp">28</span>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td colspan="2">
                            <table class="subtable">
                                <tr>
                                    <th colspan="2">SAVING THROWS</th>
                                </tr>
                                <tr>
                                    <td>
                                        <span class="stat_label">STR</span>
                                        <span class="stat_modifier" id="str_save"></span>
                                    </td>
                                    <td>
                                        <span class="stat_label">INT</span> 
                                        <span class="stat_modifier" id="int_save"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <span class="stat_label">DEX</span> 
                                        <span class="stat_modifier" id="dex_save"></span>
                                    </td>
                                    <td>
                                        <span class="stat_label">WIS</span> 
                                        <span class="stat_modifier" id="wis_save"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <span class="stat_label">CON</span> 
                                        <span class="stat_modifier" id="con_save"></span>
                                    </td>
                                    <td>
                                        <span class="stat_label">CHA</span> 
                                        <span class="stat_modifier" id="cha_save"></span>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </div>
            <div style="display: flex;">
                <table>
                    <tr>
                        <th colspan="4">SKILLS</th>
                    </tr>
                    <tr><td colspan="2">Acrobatics</td>     <td class="stat_label">DEX</td><td id="acrobatics_mod">+1</td></tr>
                    <tr><td colspan="2">Animal Handling</td><td class="stat_label">WIS</td><td id="acnimal_handling_mod">+1</td></tr>
                    <tr><td colspan="2">Arcana</td>         <td class="stat_label">INT</td><td id="arcana_mod">+1</td></tr>
                    <tr><td colspan="2">Athletics</td>      <td class="stat_label">STR</td><td id="athletics_mod">+1</td></tr>
                    <tr><td colspan="2">Deception</td>      <td class="stat_label">CHA</td><td id="deception_mod">+1</td></tr>
                    <tr><td colspan="2">History</td>        <td class="stat_label">INT</td><td id="history_mod">+1</td></tr>
                    <tr><td colspan="2">Insight</td>        <td class="stat_label">WIS</td><td id="insight_mod">+1</td></tr>
                    <tr><td colspan="2">Intimidation</td>   <td class="stat_label">CHA</td><td id="intimidation_mod">+1</td></tr>
                    <tr><td colspan="2">Investigation</td>  <td class="stat_label">INT</td><td id="investigation_mod">+1</td></tr>
                    <tr><td colspan="2">Medicine</td>       <td class="stat_label">WIS</td><td id="medicine_mod">+1</td></tr>
                    <tr><td colspan="2">Nature</td>         <td class="stat_label">INT</td><td id="nature_mod">+1</td></tr>
                    <tr><td colspan="2">Perception</td>     <td class="stat_label">WIS</td><td id="perception_mod">+1</td></tr>
                    <tr><td colspan="2">Performance</td>    <td class="stat_label">CHA</td><td id="performance_mod">+1</td></tr>
                    <tr><td colspan="2">Persuasion</td>     <td class="stat_label">CHA</td><td id="persuasion_mod">+1</td></tr>
                    <tr><td colspan="2">Religion</td>       <td class="stat_label">INT</td><td id="religion_mod">+1</td></tr>
                    <tr><td colspan="2">Slight of Hand</td> <td class="stat_label">DEX</td><td id="slight_of_hand_mod">+1</td></tr>
                    <tr><td colspan="2">Stealth</td>        <td class="stat_label">DEX</td><td id="stealth_mod">+1</td></tr>
                    <tr><td colspan="2">Survival</td>       <td class="stat_label">WIS</td><td id="survival_mod">+1</td></tr>
                </table>
                <table>
                    <tr>
                        <th>PROFICIENCIES</th>
                    </tr>
                    <tr>
                        <td id="proficiencies"></td>
                    </tr>
                    <tr>
                        <th>TRAINING</th>
                    </tr>
                    <tr>
                        <td>
                            <div>Light Armor, Medium Armor, Shields</div>
                            <div>Simple Weapons, Martial Weapons</div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div id="description"></div>
        <script src="classes.js"></script>
        <script src="5etools.js"></script>
        <script>
            let character = Object.assign(new Character(), {
                name: "Orbeck",
                ability_scores: [ 8, 15, 14, 20, 10, 8],
                level: 5,
                spells: [],
            });
            
            character.spells.push(new Spell({
                name: "Blade Ward",
                description: [
                    "Whenever a creature makes an attack roll against you before the spell ends, the attacker subtracts 1d4 from the attack roll.",
                ],
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Action" },
                components: {
                    has_somatic: true,
                    has_verbal: true,
                },
                duration: { time: "1 minute", concentration: true },
                effect: null,
                level: 0,
                range: "Self",
            }));
            character.spells.push(new Spell({
                name: "Booming Blade",
                description: [
                    "You brandish the weapon used in the spell’s casting and make a melee attack with it against one creature within 5 feet of you. On a hit, the target suffers the weapon attack’s normal effects and then becomes sheathed in booming energy until the start of your next turn. If the target willingly moves 5 feet or more before then, the target takes 1d8 thunder damage, and the spell ends.",
                    "This spell’s damage increases when you reach certain levels. At 5th level, the melee attack deals an extra 1d8 thunder damage to the target on a hit, and the damage the target takes for moving increases to 2d8. Both damage rolls increase by 1d8 at 11th level (2d8 and 3d8) and again at 17th level (3d8 and 4d8).",
                ],
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Action" },
                components: {
                    has_material: true,
                    has_somatic: true,
                    material: "a melee weapon worth at least 1 SP",
                },
                duration: { time: "1 round" },
                effect: {
                    attack: true,
                    damage: {
                        roll: {
                            num: 1,
                            dice: DICE.D8,
                        },
                        type: DAMAGE_TYPE.THUNDER,
                    },
                },
                level: 0,
                proficiency_bonus: character.getProficiencyBonus(),
                range: "Self/5 ft.",
            }));
            character.spells.push(new Spell({
                name: "Lightning Lure",
                description: [
                    "You create a lash of lightning energy that strikes at one creature of your choice that you can see within 15 feet of you. The target must succeed on a Strength saving throw or be pulled up to 10 feet in a straight line toward you and then take 1d8 lightning damage if it is within 5 feet of you.",
                    "This spell's damage increases by 1d8 when you reach 5th level (2d8), 11th level (3d8), and 17th level (4d8).",
                ],
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Action" },
                components: {
                    has_verbal: true,
                },
                duration: { time: "Instantaneous" },
                effect: {
                    attack: true,
                    damage: {
                        roll: {
                            num: 1,
                            dice: DICE.D8,
                        },
                        type: DAMAGE_TYPE.LIGHTNING,
                    },
                    save: {
                        effect_on_fail: "The target must succeed on a Strength saving throw or be pulled up to 10 feet in a straight line toward you and then take 1d8 lightning damage if it is within 5 feet of you.",
                        stat: ABILITY.STR,
                    },
                },
                level: 0,
                proficiency_bonus: character.getProficiencyBonus(),
                range: "15-foot radius",
            }));
            character.spells.push(new Spell({
                name: "Message",
                description: [
                    "You point toward a creature within range and whisper a message. The target (and only the target) hears the message and can reply in a whisper that only you can hear.",
                    "You can cast this spell through solid objects if you are familiar with the target and know it is beyond the barrier. Magical silence; 1 foot of stone, metal, or wood; or a thin sheet of lead blocks the spell.",
                ],
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Action" },
                components: {
                    has_somatic: true,
                    has_verbal: true,
                },
                duration: { time: "1 round" },
                effect: null,
                level: 0,
                range: "120 ft.",
            }));
            character.spells.push(new Spell({
                name: "Chromatic Orb",
                description: [
                    "You hurl an orb of energy at a target within range. Choose Acid, Cold, Fire, Lightning, Poison, or Thunder for the type of orb you create, and then make a ranged spell attack against the target. On a hit, the target takes 3d8 damage of the chosen type.",
                    "If you roll the same number on two or more of the d8s, the orb leaps to a different target of your choice within 30 feet of the target. Make an attack roll against the new target, and make a new damage roll. The orb can't leap again unless you cast the spell with a level 2+ spell slot.",
                    "Using a Higher-Level Spell Slot. The damage increases by 1d8 for each spell slot level above 1. The orb can leap a maximum number of times equal to the level of the slot expended, and a creature can be targeted only once by each casting of this spell.",
                ],
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Action" },
                components: {
                    has_verbal: true,
                    has_somatic: true,
                    has_material: true,
                    material: "a diamond worth 50+ GP",
                },
                duration: { time: "Instantaneous" },
                effect: {
                    attack: true,
                    damage: {
                        roll: {
                            num: 3,
                            dice: DICE.D8,
                        },
                        type: DAMAGE_TYPE.ACID,
                    },
                },
                level: 1,
                proficiency_bonus: character.getProficiencyBonus(),
                range: "90 feet",
            }));
            character.spells.push(new Spell({
                name: "Comprehend Languages",
                description: "For the duration, you understand the literal meaning of any language that you hear or see signed. You also understand any written language that you see, but you must be touching the surface on which the words are written. It takes about 1 minute to read one page of text. This spell doesn’t decode symbols or secret messages.",
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Action + 10 minutes" },
                components: {
                    has_verbal: true,
                    has_somatic: true,
                    has_material: true,
                    material: "a pinch of soot and salt",
                },
                duration: { time: "1 hour" },
                effect: null,
                level: 1,
                range: "Self",
            }));
            character.spells.push(new Spell({
                name: "Detect Magic",
                description: [
                    "For the duration, you sense the presence of magical effects within 30 feet of yourself. If you sense such effects, you can take the Magic action to see a faint aura around any visible creature or object in the area that bears the magic, and if an effect was created by a spell, you learn the spell’s school of magic.",
                    "The spell is blocked by 1 foot of stone, dirt, or wood; 1 inch of metal; or a thin sheet of lead.",
                ],
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Action + 10 minutes" },
                components: {
                    has_verbal: true,
                    has_somatic: true,
                },
                duration: { time: "10 minutes", concentration: true },
                effect: null,
                level: 1,
                range: "Self/30 ft.",
            }));
            character.spells.push(new Spell({
                name: "Disguise Self",
                description: [
                    "You make yourself—including your clothing, armor, weapons, and other belongings on your person—look different until the spell ends. You can seem 1 foot shorter or taller and can appear heavier or lighter. You must adopt a form that has the same basic arrangement of limbs as you have. Otherwise, the extent of the illusion is up to you.",
                    "The changes wrought by this spell fail to hold up to physical inspection. For example, if you use this spell to add a hat to your outfit, objects pass through the hat, and anyone who touches it would feel nothing.",
                    "To discern that you are disguised, a creature must take the Study action to inspect your appearance and succeed on an Intelligence (Investigation) check against your spell save DC.",
                ],
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Action" },
                components: {
                    has_verbal: true,
                    has_somatic: true,
                },
                duration: { time: "1 hour" },
                effect: null,
                level: 1,
                range: "Self",
            }));
            character.spells.push(new Spell({
                name: "False Life",
                description: [
                    "You gain 2d4 + 4 Temporary Hit Points.",
                    "Using a Higher-Level Spell Slot. You gain 5 additional Temporary Hit Points for each spell slot level above 1.",
                ],
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Action" },
                components: {
                    has_verbal: true,
                    has_somatic: true,
                    ha
                },
                duration: { time: "1 hour" },
                effect: null,
                level: 1,
                range: "Self",
            }));
            character.spells.push(new Spell({
                name: "Disguise Self",
                description: [
                    "You make yourself—including your clothing, armor, weapons, and other belongings on your person—look different until the spell ends. You can seem 1 foot shorter or taller and can appear heavier or lighter. You must adopt a form that has the same basic arrangement of limbs as you have. Otherwise, the extent of the illusion is up to you.",
                    "The changes wrought by this spell fail to hold up to physical inspection. For example, if you use this spell to add a hat to your outfit, objects pass through the hat, and anyone who touches it would feel nothing.",
                    "To discern that you are disguised, a creature must take the Study action to inspect your appearance and succeed on an Intelligence (Investigation) check against your spell save DC.",
                ],
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Action" },
                components: {
                    has_verbal: true,
                    has_somatic: true,
                },
                duration: { time: "1 hour" },
                effect: null,
                level: 1,
                range: "Self",
            }));
            character.spells.push(new Spell({
                name: "Mage Armor",
                description: "You touch a willing creature who isn't wearing armor. Until the spell ends, the target's base AC becomes 13 plus its Dexterity modifier. The spell ends early if the target dons armor.",
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Action" },
                components: {
                    has_verbal: true,
                    has_somatic: true,
                    has_material: true,
                    material: "a piece of cured leather",
                },
                duration: { time: "8 hours" },
                effect: null,
                level: 1,
                range: "Touch",
            }));
            character.spells.push(new Spell({
                name: "Magic Missile",
                description: [
                    "You create three glowing darts of magical force. Each dart strikes a creature of your choice that you can see within range. A dart deals 1d4 + 1 Force damage to its target. The darts all strike simultaneously, and you can direct them to hit one creature or several.",
                    "Using a Higher-Level Spell Slot. The spell creates one more dart for each spell slot level above 1.",
                ],
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Action" },
                components: {
                    has_verbal: true,
                    has_somatic: true,
                },
                duration: { time: "Instantaneous" },
                effect: {
                    damage: {
                        roll: {
                            num: 1,
                            dice: DICE.D4,
                            modifiers: [1],
                        },
                        type: DAMAGE_TYPE.FORCE,
                    },
                },
                level: 1,
                proficiency_bonus: character.getProficiencyBonus(),
                range: "120 feet",
            }));
            character.spells.push(new Spell({
                name: "Shadow Blade",
                description: [
                    "You weave together threads of shadow to create a sword of solidified gloom in your hand. This magic sword lasts until the spell ends. It counts as a simple melee weapon with which you are proficient. It deals 2d8 psychic damage on a hit and has the finesse, light, and thrown properties (range 20/60). In addition, when you use the sword to attack a target that is in dim light or darkness, you make the attack roll with advantage.",
                    "If you drop the weapon or throw it, it dissipates at the end of the turn. Thereafter, while the spell persists, you can use a bonus action to cause the sword to reappear in your hand.",
                    " At Higher Levels. When you cast this spell using a 3rd- or 4th-level spell slot, the damage increases to 3d8. When you cast it using a 5th- or 6th-level spell slot, the damage increases to 4d8. When you cast it using a spell slot of 7th level or higher, the damage increases to 5d8.",
                ],
                casting_stat: character.ability_scores[ABILITY.INT],
                casting_time: { time: "Bonus action" },
                components: {
                    has_verbal: true,
                    has_somatic: true,
                },
                duration: { time: "1 minute", concentration: true },
                effect: {
                    attack: true,
                    damage: {
                        roll: {
                            num: 2,
                            dice: DICE.D8,
                            modifiers: [Math.floor((character.ability_scores[ABILITY.INT] - 10) / 2)],
                        },
                        type: DAMAGE_TYPE.PSYCHIC,
                    },
                },
                level: 2,
                proficiency_bonus: character.getProficiencyBonus(),
                range: "Self",
            }));
        </script>
        <script src="scripts.js"></script>
    </body>
</html>
